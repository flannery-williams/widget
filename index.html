<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ramadan Fasting Times – Lowell/Groton</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=DM+Sans:wght@400;500;600&display=swap');

  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

  html, body {
    background: transparent;
    font-family: 'DM Sans', sans-serif;
    color: #e8e6df;
    height: 100%;
  }

  .widget {
    background: linear-gradient(135deg, rgba(10, 22, 40, 0.92), rgba(18, 38, 65, 0.88));
    border: 1px solid rgba(120, 160, 210, 0.15);
    border-radius: 14px;
    padding: 14px 14px 14px;
    max-width: 600px;
    margin: 0 auto;
    backdrop-filter: blur(12px);
    box-shadow: 0 4px 24px rgba(0,0,0,0.35);
  }

  /* Header */
  .header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 0px;
    padding-bottom: 4px;
    border-bottom: 1px solid rgba(120, 160, 210, 0.12);
  }

  .title {
    font-family: 'Amiri', serif;
    font-size: 24px;
    font-weight: 700;
    color: #d4c9a8;
    letter-spacing: 0.8px;
  }

  .day-badge {
    font-size: 12px;
    font-weight: 600;
    letter-spacing: 1.2px;
    text-transform: uppercase;
    color: rgba(200, 200, 210, 0.6);
  }

  /* Table */
  table {
    width: 100%;
    border-collapse: collapse;
  }

  th {
    font-size: 12px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: rgba(200, 200, 210, 0.4);
    padding: 0 4px 2px;
    text-align: center;
  }

  td {
    font-size: 19px;
    font-weight: 600;
    text-align: center;
    padding: 4px 2px 4px;
    color: #e8e6df;
    letter-spacing: -0.3px;
    font-variant-numeric: tabular-nums;
  }

  /* Highlight Sahur & Iftar */
  th.key-col { color: rgba(212, 201, 168, 0.55); }
  td.key-time { color: #d4c9a8; }

  /* Subtle dividers */
  td + td, th + th {
    border-left: 1px solid rgba(120, 160, 210, 0.07);
  }

  /* Pre/post Ramadan message */
  .message {
    text-align: center;
    padding: 4px 0 2px;
  }

  .message .main-text {
    font-size: 15px;
    font-weight: 500;
    color: rgba(220, 220, 225, 0.85);
  }

  .message .date-note {
    font-size: 12px;
    color: rgba(200, 200, 210, 0.45);
    margin-top: 4px;
    font-weight: 500;
  }
</style>
</head>
<body>
<div class="widget" id="widget"></div>

<script>
  // ── Ramadan 2026 fasting times for Lowell/Groton, MA ──
  // [month, day, ramadanDay, sahur, sunrise, sunset, iftar]
  const RAMADAN_DATA = [
    [2,18, 1, "5:19 AM","6:37 AM","5:21 PM","5:22 PM"],
    [2,19, 2, "5:18 AM","6:36 AM","5:22 PM","5:23 PM"],
    [2,20, 3, "5:17 AM","6:34 AM","5:23 PM","5:24 PM"],
    [2,21, 4, "5:15 AM","6:33 AM","5:24 PM","5:26 PM"],
    [2,22, 5, "5:14 AM","6:31 AM","5:26 PM","5:27 PM"],
    [2,23, 6, "5:12 AM","6:30 AM","5:27 PM","5:28 PM"],
    [2,24, 7, "5:11 AM","6:28 AM","5:28 PM","5:29 PM"],
    [2,25, 8, "5:09 AM","6:27 AM","5:30 PM","5:31 PM"],
    [2,26, 9, "5:08 AM","6:25 AM","5:31 PM","5:32 PM"],
    [2,27,10, "5:06 AM","6:23 AM","5:32 PM","5:33 PM"],
    [2,28,11, "5:05 AM","6:22 AM","5:33 PM","5:34 PM"],
    [3, 1,12, "5:03 AM","6:20 AM","5:34 PM","5:36 PM"],
    [3, 2,13, "5:01 AM","6:19 AM","5:36 PM","5:37 PM"],
    [3, 3,14, "5:00 AM","6:17 AM","5:37 PM","5:38 PM"],
    [3, 4,15, "4:58 AM","6:15 AM","5:38 PM","5:39 PM"],
    [3, 5,16, "4:56 AM","6:14 AM","5:39 PM","5:40 PM"],
    [3, 6,17, "4:55 AM","6:12 AM","5:41 PM","5:42 PM"],
    [3, 7,18, "4:53 AM","6:10 AM","5:42 PM","5:43 PM"],
    [3, 8,19, "5:53 AM","7:09 AM","6:43 PM","6:43 PM"],
    [3, 9,20, "5:51 AM","7:07 AM","6:44 PM","6:44 PM"],
    [3,10,21, "5:50 AM","7:05 AM","6:45 PM","6:45 PM"],
    [3,11,22, "5:48 AM","7:04 AM","6:47 PM","6:46 PM"],
    [3,12,23, "5:46 AM","7:02 AM","6:48 PM","6:48 PM"],
    [3,13,24, "5:44 AM","7:00 AM","6:49 PM","6:49 PM"],
    [3,14,25, "5:43 AM","6:58 AM","6:50 PM","6:50 PM"],
    [3,15,26, "5:41 AM","6:57 AM","6:51 PM","6:51 PM"],
    [3,16,27, "5:39 AM","6:55 AM","6:52 PM","6:52 PM"],
    [3,17,28, "5:37 AM","6:53 AM","6:54 PM","6:54 PM"],
    [3,18,29, "5:36 AM","6:51 AM","6:55 PM","6:55 PM"],
    [3,19,30, "5:34 AM","6:50 AM","6:56 PM","6:56 PM"],
  ];

  // ╔═══════════════════════════════════════════════════╗
  // ║  SET TO true TO PREVIEW, false FOR PRODUCTION     ║
  // ╚═══════════════════════════════════════════════════╝
  const PREVIEW_MODE = false;

  function render() {
    const now = new Date();
    const m = now.getMonth() + 1;
    const d = now.getDate();
    const widget = document.getElementById('widget');

    let today = RAMADAN_DATA.find(r => r[0] === m && r[1] === d);

    // Preview: show Day 1 if no match for today
    if (PREVIEW_MODE && !today) {
      today = RAMADAN_DATA[0];
    }

    if (!today) {
      const startDate = new Date(2026, 1, 18);
      const endDate   = new Date(2026, 2, 20);

      if (now < startDate) {
        const diff = Math.ceil((startDate - now) / 86400000);
        widget.innerHTML = `
          <div class="header">
            <span class="title">Ramadan Fasting Times</span>
          </div>
          <div class="message">
            <div class="main-text">Begins in ${diff} day${diff !== 1 ? 's' : ''}</div>
            <div class="date-note">Wednesday, February 18</div>
          </div>`;
      } else {
        widget.innerHTML = `
          <div class="header">
            <span class="title">Ramadan Fasting Times</span>
          </div>
          <div class="message">
            <div class="main-text">Ramadan Mubarak</div>
            <div class="date-note">Eid al-Fitr begins March 20</div>
          </div>`;
      }
      return;
    }

    const [, , day, sahur, sunrise, sunset, iftar] = today;

    widget.innerHTML = `
      <div class="header">
        <span class="title">Ramadan Fasting Times</span>
        <span class="day-badge">Day ${day} of 30</span>
      </div>
      <table>
        <tr>
          <th class="key-col">Sahur</th>
          <th>Sunrise</th>
          <th class="key-col">Iftar</th>
          <th>Sunset</th>
        </tr>
        <tr>
          <td class="key-time">${sahur}</td>
          <td>${sunrise}</td>
          <td class="key-time">${iftar}</td>
          <td>${sunset}</td>
        </tr>
      </table>`;
  }

  render();
</script>
</body>
</html>

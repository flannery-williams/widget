<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ramadan Fasting Times – Lowell/Groton</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

  html, body {
    background: transparent;
    font-family: 'DM Sans', 'Segoe UI', system-ui, sans-serif;
    color: #fff;
    height: 100%;
  }

  .widget {
    background: rgba(18, 18, 24, 0.72);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 14px;
    padding: 14px 20px 12px;
    max-width: 520px;
    margin: 0 auto;
  }

  /* Header row: title left, day badge right */
  .header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 10px;
  }

  .title {
    font-size: 12px;
    font-weight: 500;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    color: rgba(255, 255, 255, 0.45);
  }

  .day-badge {
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 0.5px;
    color: rgba(255, 255, 255, 0.85);
    background: rgba(255, 255, 255, 0.08);
    padding: 3px 10px;
    border-radius: 20px;
  }

  /* Table */
  table {
    width: 100%;
    border-collapse: collapse;
  }

  th {
    font-size: 10px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: rgba(255, 255, 255, 0.35);
    padding: 0 6px 6px;
    text-align: center;
  }

  td {
    font-size: 20px;
    font-weight: 600;
    text-align: center;
    padding: 4px 6px 2px;
    color: #fff;
    letter-spacing: -0.3px;
  }

  /* Highlight Sahur & Iftar columns */
  td.key-time {
    color: #e8c97a;
  }

  /* Subtle dividers between columns */
  td + td, th + th {
    border-left: 1px solid rgba(255, 255, 255, 0.06);
  }

  /* Pre-Ramadan / Post-Ramadan message */
  .message {
    text-align: center;
    font-size: 14px;
    font-weight: 500;
    color: rgba(255, 255, 255, 0.7);
    padding: 4px 0;
  }

  .message .date-note {
    font-size: 11px;
    color: rgba(255, 255, 255, 0.35);
    margin-top: 4px;
  }
</style>
</head>
<body>
<div class="widget" id="widget">
  <!-- Populated by JS -->
</div>

<script>
  // ── Ramadan 2026 fasting times for Lowell/Groton, MA ──
  // Format: [month, day, sahur, sunrise, sunset, iftar]
  // Times are strings in "H:MM AM/PM" format
  const RAMADAN_DATA = [
    [2,18, 1, "5:19 AM","6:37 AM","5:21 PM","5:22 PM"],
    [2,19, 2, "5:18 AM","6:36 AM","5:22 PM","5:23 PM"],
    [2,20, 3, "5:17 AM","6:34 AM","5:23 PM","5:24 PM"],
    [2,21, 4, "5:15 AM","6:33 AM","5:24 PM","5:26 PM"],
    [2,22, 5, "5:14 AM","6:31 AM","5:26 PM","5:27 PM"],
    [2,23, 6, "5:12 AM","6:30 AM","5:27 PM","5:28 PM"],
    [2,24, 7, "5:11 AM","6:28 AM","5:28 PM","5:29 PM"],
    [2,25, 8, "5:09 AM","6:27 AM","5:30 PM","5:31 PM"],
    [2,26, 9, "5:08 AM","6:25 AM","5:31 PM","5:32 PM"],
    [2,27,10, "5:06 AM","6:23 AM","5:32 PM","5:33 PM"],
    [2,28,11, "5:05 AM","6:22 AM","5:33 PM","5:34 PM"],
    [3, 1,12, "5:03 AM","6:20 AM","5:34 PM","5:36 PM"],
    [3, 2,13, "5:01 AM","6:19 AM","5:36 PM","5:37 PM"],
    [3, 3,14, "5:00 AM","6:17 AM","5:37 PM","5:38 PM"],
    [3, 4,15, "4:58 AM","6:15 AM","5:38 PM","5:39 PM"],
    [3, 5,16, "4:56 AM","6:14 AM","5:39 PM","5:40 PM"],
    [3, 6,17, "4:55 AM","6:12 AM","5:41 PM","5:42 PM"],
    [3, 7,18, "4:53 AM","6:10 AM","5:42 PM","5:43 PM"],
    [3, 8,19, "5:53 AM","7:09 AM","6:43 PM","6:43 PM"],
    [3, 9,20, "5:51 AM","7:07 AM","6:44 PM","6:44 PM"],
    [3,10,21, "5:50 AM","7:05 AM","6:45 PM","6:45 PM"],
    [3,11,22, "5:48 AM","7:04 AM","6:47 PM","6:46 PM"],
    [3,12,23, "5:46 AM","7:02 AM","6:48 PM","6:48 PM"],
    [3,13,24, "5:44 AM","7:00 AM","6:49 PM","6:49 PM"],
    [3,14,25, "5:43 AM","6:58 AM","6:50 PM","6:50 PM"],
    [3,15,26, "5:41 AM","6:57 AM","6:51 PM","6:51 PM"],
    [3,16,27, "5:39 AM","6:55 AM","6:52 PM","6:52 PM"],
    [3,17,28, "5:37 AM","6:53 AM","6:54 PM","6:54 PM"],
    [3,18,29, "5:36 AM","6:51 AM","6:55 PM","6:55 PM"],
    [3,19,30, "5:34 AM","6:50 AM","6:56 PM","6:56 PM"],
  ];

  function render() {
    const now = new Date();
    const m = now.getMonth() + 1; // 1-indexed
    const d = now.getDate();
    const widget = document.getElementById('widget');

    // Find today's entry
    const today = RAMADAN_DATA.find(r => r[0] === m && r[1] === d);

    if (!today) {
      // Before or after Ramadan
      const startDate = new Date(2026, 1, 18); // Feb 18
      const endDate   = new Date(2026, 2, 20); // Mar 20

      if (now < startDate) {
        const diff = Math.ceil((startDate - now) / 86400000);
        widget.innerHTML = `
          <div class="header">
            <span class="title">Ramadan 1447h</span>
          </div>
          <div class="message">
            Begins in ${diff} day${diff !== 1 ? 's' : ''}
            <div class="date-note">Wednesday, February 18</div>
          </div>`;
      } else {
        widget.innerHTML = `
          <div class="header">
            <span class="title">Ramadan 1447h</span>
          </div>
          <div class="message">
            Ramadan Mubarak ☪
            <div class="date-note">Eid al-Fitr begins March 20</div>
          </div>`;
      }
      return;
    }

    const [, , day, sahur, sunrise, sunset, iftar] = today;

    widget.innerHTML = `
      <div class="header">
        <span class="title">Ramadan 1447h</span>
        <span class="day-badge">Day ${day}</span>
      </div>
      <table>
        <tr>
          <th>Sahur</th>
          <th>Sunrise</th>
          <th>Iftar</th>
          <th>Sunset</th>
        </tr>
        <tr>
          <td class="key-time">${sahur}</td>
          <td>${sunrise}</td>
          <td class="key-time">${iftar}</td>
          <td>${sunset}</td>
        </tr>
      </table>`;
  }

  render();
</script>
</body>
</html>
